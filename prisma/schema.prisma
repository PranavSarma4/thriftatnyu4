// Prisma schema for Thrift@NYU

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model ClothingSubmission {
  id                   String   @id @default(uuid())
  customerName         String
  email                String
  phone                String
  zelleInfo            String
  pickupAddress        String
  pickupLat            Float?
  pickupLng            Float?
  clothingDescription  String?
  clothingItems        String[] // Array of clothing categories/items
  estimatedItems       Int
  status               SubmissionStatus @default(pending)
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
  scheduledPickupDate  String?
  scheduledPickupTime  String?
  adminNotes           String?
  customerAvailability String[] // Array of availability times

  @@index([email])
  @@index([status])
}

model CustomerAccount {
  id             String   @id @default(uuid())
  email          String   @unique
  customerName   String
  phone          String
  zelleInfo      String
  defaultAddress String
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  @@index([email])
}

enum SubmissionStatus {
  pending
  scheduled
  picked_up
  processing
  listed
  sold
}
